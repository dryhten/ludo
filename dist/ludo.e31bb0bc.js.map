{"version":3,"sources":["board.js","constants.js","token.js","player.js","index.js"],"names":["Board","boardSize","size","strokeWidth","space","squareSide","rowSide","ctx","fillStyle","fillRect","drawHomeRows","drawGrid","drawHomeCorners","drawCenter","drawHomeCircles","drawCircles","drawSquare","beginPath","moveTo","lineTo","closePath","fill","stroke","x","y","arc","Math","PI","color","lineWidth","i","drawCircle","HOME_POSITIONS","RED","GREEN","YELLOW","BLUE","TOKEN_COLORS","START_POSITIONS","PLAYERS","Token","dir","radius","stepSize","centerX","centerY","open","numMoves","getDirection","Player","turn","tokens","map","position","BOARD_SIZE","canvas","document","getElementById","getContext","clearBoard","clearRect","getMousePos","evt","rect","getBoundingClientRect","clientX","left","right","width","clientY","top","bottom","height","isIntersecting","point","token","sqrt","refreshBoard","board","players","draw","forEach","player","callback","e","mousePosition","move","playerColor","addEventListener","openToken"],"mappings":";;AICA;;AACA;;AHFO,AGGP,IHHagC,cAAc,GAAG;AAC5BC,AEDF,ADAA,EDCEA,GAAG,EAAE,CACH;AAAEV,AGEN,IHFMA,CAAC,EAAE,CAAL;AAAQC,AEDZ,IFCYA,CAAC,EAAE;AAAX,GADG,EAEH;AAAED,IAAAA,CAAC,EAAE,CAAL;AAAQC,AGHZ,IHGYA,CAAC,EAAE;AAAX,AGGJ,GHLO,CDDDxB,AIMAsD,CHFF,SGEY,GAAG,GAAnB;AJLE,ACGI/B,AGIN,IHJMA,AGIAgC,CHJC,EAAE,CAAL,EGIQ,GAAGC,IJPDvD,IIOS,CAACwD,IJPtB,EAAuB,QIOV,CAAwB,YAAxB,CAAf;AJPyB,ACGbjC,AGKZ,ADNA,IFCYA,AGKNjB,AFPAiC,CDEO,EAAE,AGKN,EDNAQ,CCMGO,MAAM,CAACG,IDNnB,CAAsB9B,KCMV,ADNZ,CCM8B,CDND,GCMjB,CAAZ;AHLI,AEAF,ADDA,GDFK,EAIH,KEDMA,KAAR,EDDY3B,SAAZ,EAAuBsB,CAAvB,EAA0BC,CAA1B,EAA6BI,KAA7B,EAAoCa,GAApC,EAAyC;AFDvC,ACGElB,AGMN,ADNI,ADFuC,IDErCA,CAAC,EAAE,CAAL,CDHKrB,AISAyD,ADNA,IHHL,CGGA,EHHY1D,GIShB,GAAsB,GJTlB;AACA,ACEQuB,AGOVjB,ADNI,ECMJA,EHPUiB,CAAC,AGOR,CAACoC,CHPS,EDFNzD,IGGI,ECMX,CAAc,ADNV,CCMJ,EAAiB,CJTf,AISF,EAAoBmD,CJTC,CAAnB,QISF,EAAgCA,UAAhC;AJRE,ACCA,AGQH,AFTG,GDHG,CADuB,KDIrBlD,AEAAmB,CAAL,GAASA,CFAT,AEAA,GFAa,KAAKrB,IAAL,GAAY,CAAzB;AACA,ACEFgC,AEAE,ADFA,EDEFA,KAAK,EDFE7B,ACEA,AEAA,ADFAmB,CDGL,ACHA,GAASA,CAAT,CCEA,IHFA,GAAkB,KAAKpB,KAAL,GAAa,CAA/B;AACA,ACEEmB,AGON,ADPM,ADFF,IDEEA,CAAC,EAAE,CAAL,CDFKjB,AISAuD,AFTAnB,ICEI,EDFT,CFAA,AGEE,EDFYzC,CFAC,CISnB,CAAqBsD,GJTGnD,GISxB,AFT2B,EFAR,AISU0D,CFTC,EFAE,AIShC,AFTI,CFAA,CIS8B;AJR/B,ACCStC,AGQV,AFTE,IDCQA,CAAC,CGQLuC,CHRO,ECDNpB,CESG,GAAGY,IFTX,EESiB,CAACS,AFTF/D,SAAS,GAAG,EAA5B,OESW,EAAb;AHRE,AGSF,ADRE,ADDA,GDDK,EAEL,IGQK,ADRA,ADDA2B,KAAL,ECCA,CDDaA,KAAb;ADCEL,AGSFA,ADRE,ADDF,IDAEA,AGSFA,CHTG,AGSF,EHTI,AGSD,CHTJ,AGSKuC,CFTAlB,EESG,CAACqB,CDRA,GAAP,ADDF,GESK,AFTU,CAAC1C,CAAC,CESEwC,EFTC,EESG,CAACG,AFTT,IESX,AFTuB,KESMH,AFTDpB,IESK,CAACwB,GFTtC,EESiC,GAAaJ,IAAI,CAACG,IAA/C,CAAD,GAAyDX,MAAM,CAACa,KAD9D;AHRG5C,AGURA,AFTA,IDDQA,AGURA,CHVS,AGUR,EHVU,AGUP,CAACsC,CFTAjB,EESG,CAACwB,IFTT,GESK,AFTU,CAAC7C,CAAC,CESEuC,EFTC,EESG,CAACO,AFTT,GESX,CFTuB,IESKP,CFTApB,GESI,CAAC4B,IFTrC,CAPuC,CEgBP,AFRhC,GEQ8CR,IAAI,CAACO,GAA/C,CAAD,GAAwDf,MAAM,CAACiB;AHVlE,AGQK,ADNL,GFJK,AGUP,EHPE,IECK,QAAL,QHFGjE,KAAK;AACR,ACAEgB,AGWL,ADTK,ADAF,IDFEA,CAAC,EAAE,CAAL,CCEKuB,ICAI,ADAT,GCAE,ADAU,KAAZ;AFDAvC,ACDQiB,ACGR,IDHQA,CAAC,CDCTjB,CCDW,EDCR,AEEEkC,CFFDjC,EEEJ,GAAWiC,GAAX,CFFA,GAAgB,MAAhB;AACAlC,ACFA,AGaJ,ADVI,ADCD,GDPM,EAIL,CDCAA,GAAG,AIWEkE,CJXDhE,QAAJ,CAAa,CAAb,EAAgB,CAAhB,AIWJ,CAAwBiE,CJXD,IIWvB,CJX4BxE,CIWGyE,GJX3B,EAA8B,AIWlC,EAAsC,GJXCzE,IAAnC,EAHQ,CAKR;ACHEqB,AGaJ,ADVI,IFHAA,CAAC,EAAE,CAAL,CGcAG,IAAI,ADXK,CCWJkD,GDXH,CCWF,CAAU,SAACF,KAAK,CAACnD,CAAN,GAAUoD,KAAK,CAAC/B,OAAjB,EAA6B,CAA7B,aAAkC8B,KAAK,CAAClD,CAAN,GAAUmD,KAAK,CAAC9B,OAAlD,EAA8D,CAA9D,CAAV,IACA8B,KAAK,CAACjC,MAFR;AJTE,ACJQlB,AGiBX,ADxBC,IFOUA,CAAC,EAAE,IDINd,YAAL,CAAkBH,GAAlB,EANQ,CAQR;ACNA,AEKH,GFTQ,CAPqB;ADkB1B,ACLF4B,AGiBF,EHjBEA,MAAM,CGiBC0C,CHjBC,CDKDlE,ACJL,QDIA,CAAcJ,CIYlB,CAAsBuE,CJZlB,EATQ,AEOLvE,CFIH,CIUJ,EAA6BwE,CFdjB,MEcZ,EAAsCxE,GAAtC,EAA2C;AHhBrCgB,AGiBJoC,AFdEpD,EEcFoD,EHjBIpC,AEIA0B,CFJC,CCGH1C,CDHK,EAAL,ACGG,CAACC,EEcI,CDZV,MDFE,GAAgB6B,OCENpC,SAAZ,EAAuB2B,KAAvB,CDF+B,CCED,IDFMA,KAAlB,CAAhB;AFIA,ACPSJ,AGkBXsD,ADb8B,ADD5BvE,EEcFuE,EHlBWtD,CAAC,CCIVjB,CDJY,AGkBT,CAACyE,CFdD,CAAC/D,CFGCL,CIWP,CAAWL,GAAX,GFdE,OFGA,CAAqBA,GAArB,EAZQ,CAcR;ACTA,AGmBFwE,AFdExE,EEcFwE,CHpBQ,EAEN,CCIAxE,GEcK,AFdF,CEcG0E,AFdFxD,GAAJ,CAAQ,GEcV,CAAgB,CFdDmB,OAAb,EEcesC,AFdO,KAAKrC,CEcb,MFdd,EAAoC,KAAKH,MAAzC,EAAiD,CAAjD,EAAoD,IAAIhB,IAAI,CAACC,EAA7D,EAAiE,KAAjE;AFKA,ACTEJ,AGkBY,ADbd,ADAAhB,IDLEgB,CAAC,CCKHhB,CDLK,AEKA2C,EFLL,ACKG,CAAC7B,CFICR,AIULqE,ADdA,GAAY,ADAZ,GEcM,CAAC/B,CDdP,EHIA,CAAgB5C,EIUhB,CJVA,AIUc0E,EJzBN,CAiBR,IIQA,CAAsB,UAACN,KAAD;AHnBbnD,AGmBa,ADbtB,ADAAjB,IDNSiB,CAAC,CCMVjB,CDNY,AEMP4C,EDAF,CAAC3C,GEa6BmE,ADbjC,GAAc3C,ECawB,CAACgD,AFbvC,GAAgB,CEaiB,CAAWzE,GAAX,CAAX,AFbtB,cCA6BqB,KAAf,EAAsBwB,GAAtB,CACZ,UAACC,QAAD;AHKF,ACZA,AGmBsB,ADZpB,ADAF9C,GDTM,EAGN,AGkBA,CADc,AFXdA,GAAG,CAACe,CFKCR,AGJD,IAAI0B,CDDR,UFKA,CAAqBjC,EGJjB,CHIJ,AGJcN,SAAV,EAAqBoD,QAAQ,CAAC9B,CAA9B,EAAiC8B,QAAQ,CAAC7B,CAA1C,EAA6CI,KAA7C,EAAoDoB,YAAY,CAACpB,KAAD,CAAhE,CADF;AHMH,ACZGL,AGiBY,ADXZ,ADCFhB,GEUF,ADZgB,CFLZgB,AEKF,CFLG,CCOHhB,CDPK,EAAL,ACOG,CAACa,SAAJ;ADPSI,AGoBZ,ADXE,ADDA,IDRUA,CAAC,EAAE;AAAZ,GAHM,EAIN;AAAED,AGqBN,IHrBMA,CAAC,EAAE,EAAL,AGqBK4D,MDVMlC,ECUf,CAAkBmC,CAAlB,EAAqB,eJRH7E,KAAK;AACnB,ACdSiB,AGsBX,IHtBWA,CAAC,CGsBN6D,CHtBQ,IDcPtE,QIQY,GJRjB,AIQoB8C,CJRHtD,GAAjB,CELKgB,CFKiB,EELdC,GFKmBnB,AIQI,AFbpB,CEaqBkD,MAAD,EAAS6B,CJRlB,AIQS,CAAjC,EJR0C,CAAxC,EAA2C,KAAK/E,UAAL,GAAkB,CAA7D;AACA,ACfA,AGuBF0E,AFbE,EEaFA,CH3BQ,CAboB,KGwCrB,CAACE,CJRDlE,AELAQ,CAAL,GAASA,CAAT,CEaF,CAAgB,IJRd,CACEhB,GADF,EAEE,AIMa2E,KJNR7E,CIMO,EAAY,OJNxB,GAAkB,CAAlB,GAAsB,KAAKD,KAA3B,GAAmC,KAAKC,UAF1C,EAGE,KAAKA,UAAL,GAAkB,CAHpB;AAKA,AClBF+B,AGsBE8C,AFbA,EDTF9C,EGsBE8C,EHtBE,EAAE,CACJ,CGqBM,CJJDnE,AIIEoC,AFbF3B,CAAL,GAASA,CAAT,CEaA,CAAcyD,IJJd,CACE1E,EIGF,CJJA,AIIsB,EJFpB,KAAKF,GIEgBsE,KAAD,EJFpB,AIE+B,GJFb,CAFpB,EAGE,KAAKtE,UAAL,GAAkB,CAAlB,GAAsB,KAAKD,KAA3B,GAAmC,KAAKC,UAH1C;AAKA,ACtBEkB,AGsBA,AFbF,IDTEA,CAAC,EAAE,EAAL,CGsBMoD,CJAD5D,AEbA6B,IEaM,CAACE,EFbZ,EEaM,CFbS,CFaf,AEbgBvB,CFcdhB,AEde,CEaG2E,EJApB,AEboB,EFelB,CEfa,CEaW,CAAChC,EJEpB7C,AEfoB,EEarB,GFb0BsC,CEaG8B,IJEjC,GAAkB,AEfpB,CFeE,GAAsB,GIFyB,CAACY,CJErBjF,KAA3B,GAAmC,IIFY,CJEPC,CIFuBsE,KAAhB,CAA/C,EAAuE,CJAzE,EAGE,KAAKtE,UAAL,GAAkB,CAAlB,GAAsB,KAAKD,KAA3B,GAAmC,KAAKC,UAH1C;AAKD,AC3BUmB,AGuBLmD,AFbJ,IDVSnD,CAAC,EAAE,CGuBRmD,GFbC9B,EEaI,CAACyC,IAAN,AFbJ,CEae,CAAX,CFbW,CAAC9D,CAAC,GAAG,GAAL,IAAY,KAAKmB,QAAhC;ADVA,AGwBIkC,AFbL,GDZK,EAEJ,CCYF,EEWMA,YAAY,CAACC,KAAD,EAAQC,OAAR,EAAiBxE,GAAjB,CAAZ,CAFqE,CAGrE;AHxBFgB,AGyBC,IHzBDA,CAAC,EAAE,EAAL;AAASC,AG0BR,IH1BQA,CAAC,AGoBV,EHpBY,6BD4BEjB,KAAK;AACnB,AC7BA,AG2BD,GH7BK,AGqBN,EHlBE,MD4BKS,UAAL,CAAgBT,GAAhB,EAAqB,CAArB,EAAwB,CAAxB,EAA2B,MAA3B;AACA,AC7BEgB,AG2BL,IH3BKA,CAAC,EAAE,EAAL,ED6BKP,UAAL,CAAgBT,GAAhB,AEjBGwC,EFiBkB,KAAK1C,GEjBb,OFiBQ,GAAkB,KAAKD,KAA5C,EAAmD,CAAnD,EAAsD,MAAtD;AACA,AC9BSoB,ACaT,IDbSA,CAAC,EAAE,ID8BPR,EEjBE+B,QFiBP,AEjBA,CFkBExC,CElBe,EFiBjB,EAEE,KAAKF,UAAL,GAAkB,KAAKD,KAFzB,EAGE,KAAKC,UAAL,GAAkB,KAAKD,KAHzB,EAIE,MAJF;AAMA,ACpCA,AG6BJ,AFfM,GDjBE,CGgCF0E,CH5BF,IG4BO,EJOF9D,CIPK,IAAIhB,AFfJ,KFsBV,AEtBeyC,CFsBClC,EEtBd,CFsBF,EAAqB,CAArB,EAAwB,AIPd,CAAU+C,IJOSjD,MIPnB,CAAd,GJO4B,GAAkB,KAAKD,KAA/C,EAAsD,MAAtD;AACD,ACpCGmB,ACcE,IDdFA,CAAC,EAAE,EAAL,MCcS,GAAL;ADdKC,AG6Bb,AFdU,IDfGA,AG6BPuD,CH7BQ,EAAE,IG6BH,GAAGxC,EFdF,KAAKhB,CAAL,KAAW,EAAX,IEcU6B,AFdO,GEcf,CACd,CFfkC7B,CAAL,KAAW,CAAhC,EEePgE,AFf0C,WEe3C;AH9BE,AG8BF,AFdU,GDpBJ,MGkCW,IAAItC,MFdN/B,MAAL,CAAY,EEcL,CAAWoC,EFdD/B,CAAjB,EAAoB,KEcb,AFdkBC,CAAL,CEcU+D,EFdD,CAA7B,QEcO,CAAjB;AHrD4B,AGqD5B,AFbU,CDxCL,AGoDS,CAAhB,iBFZiB9C,GAAL,GAAW,GAAX,KFqBGlC,KAAK;AAChBA,AErBO,MFqBPA,GAAG,CAACC,GExBE,MFwBN,AErBa,GFqBG,CErBC,KFqBjB,AErBsBe,CAAL,KAAW,CAAf,EAAkB;AFsB/BhB,ACpCG,AG4BPgD,AFbY,IDfClB,EDoCT9B,AIRE,CAAC6D,EJQA,CAAC3D,EIRR,GAAe6C,CH5BU,EDoCrB,CAAa,ACpCW,ACeXpC,KFqBKZ,CIRtB,AFbY,CAAY,KFqBpB,AErByBiB,CAAL,CFqBO,EErBE,CAArB,EFqBwBlB,AErBA,KAAKmB,CAAL,GAAS,CFqBzC,AErBQ,EFqBoC,KAAKlB,OAAjD,EAA0D,KAAKA,OAAL,GAAe,CAAzE;AACAC,ACpCF0B,AG4BFsB,AFbY,EDfVtB,GAAG,CDoCD1B,AIRE,CH5BC,AG4BAiE,EJQA,CAAC/D,GIRR,GH7B4B,AG6BZ6C,EJQZ,CACE,AEtBWb,GAAL,EFsBDnC,CEtBY,CEavB,EFbY,GFsBN,GAAe,CADjB,EAEE,KAAKD,UAAL,GAAkB,KAAKC,OAFzB,EAGE,KAAKA,OAAL,GAAe,CAHjB,EAIE,KAAKA,OAJP;AAMAC,ACzCF2B,AG6BF4C,AFdW,EDfT5C,GG6BG,CJYD3B,AIZEyE,CH7BC,EDyCA,ACzCE,CDyCDxE,AIZR,CAAWD,EFjBM,CEiBjB,IH/B4B,CD2CxB,AE1Ba,GF0BG,MAAhB;AACAA,ACzCF6B,AG6BF2C,AFdY,EDfV3C,IDyCE7B,ACzCE,CG6BC,CH7BC,AG6BA0E,CJYD,CAACxE,KIZR,CAAgB,CHhCY,CD4CxB,CACE,AE3BWS,KF2BNb,CE3BC,CEcK6E,AFdO,KAAK3D,CEcb,AFdQ,EF2BlB,CE3B2B,CAArB,CF2BY,CE3BY,IF2BPjB,CE3BYkB,CAA7B,KF0BR,EAEE,KAAKlB,OAFP,EAGE,KAAKA,OAAL,GAAe,CAHjB,EAIE,KAAKA,OAJP;AAMAC,AC9CF4B,AG4Bc,AFbL,EDfTA,ID8CE5B,EC9CI,CD8CD,AIlBqB2E,CJkBpBzE,AC9CE,KG4BwB,CAAC0C,EJkB/B,CACE,GInBsB,CAAc8B,CJmB/B5E,MInBiB,CAAsB,GJmB5C,GAAkB,IInB2BsE,CJmBtBrE,IInBqB,GJkB9C,EAEE,KAAKA,OAAL,GAAe,CAFjB,EAGE,KAAKA,OAHP,EAIE,KAAKA,OAAL,GAAe,CAJjB;AAMAC,ACxDwB,AGgCsB,CHhC3C,KDwDHA,GAAG,CAACC,CIxBqDmE,KAAK,CAACK,EJwB/D,EIxByD,CJwBzC,AIxBoDzE,GAAX,CAAX,EJwB9C;AACAA,AIzB8C,AFZxC,GEYkB,CAAZ,EJyBZA,GAAG,CAACE,QAAJ,CACE,KAAKP,IAAL,GAAY,KAAKI,OAAL,GAAe,CAD7B,EAEE,KAAKD,UAAL,GAAkB,KAAKC,OAFzB,EAGE,KAAKA,OAHP,EAIE,KAAKA,OAAL,GAAe,CAJjB;AAMAC,ACxDG,AGyBS,CAAhB,GHzBa+B,EDwDT/B,GAAG,CAACE,QAAJ,CACE,ACzDsB,GAAG,EDyDpBJ,UAAL,GAAkB,KAAKD,KADzB,EAEE,KAAKC,UAAL,GAAkB,KAAKC,OAFzB,EAGE,KAAKA,OAAL,GAAe,CAHjB,EAIE,KAAKA,OAJP;AAMAC,AC7DF0B,AG0BFsB,AFbQ,EDbNtB,GAAG,CD6DD1B,AInCE,CH1BC,AG0BAiF,EJmCA,CAAChF,KEhDK,GAAL,CFgDJ,GAAgB,CInCpB,CAAwB,IJmCpB,GInCJ,EAAiC2E,QAAjC;AJoCI5E,AC9DKgB,AG4BTwD,AFdU,IDdDxD,CAAC,CD8DNhB,CC9DQ,AG4BL,CH5BA,AG4BC,CJkCD,AIlCA,CJkCCE,AIlCR,CAAW0C,KFdG,CEcd,CJkCI,AIlCc,CJmCZ,AInCN,EAAqBsC,AFdFlE,CAAL,EFiDHlB,GEjDc,CAAf,EEcV,AFd4B,IFgDxB,EAEE,KAAKH,IAAL,GAAY,KAAKI,OAAL,GAAe,CAF7B,EAGE,KAAKA,OAAL,GAAe,CAHjB,EAIE,KAAKA,OAJP;AAMAC,ACpEWiB,AG6BfuD,AFdY,IDfGvD,CAAC,CDoEZjB,CCpEc,AG6BX,CAAC,CJuCD,AIvCA,CJuCCE,AIvCR,CAAW0C,MAAX,CJuCI,AIvCc,CJwCZ,AIxCN,AFdiBjC,EEcIuE,GJwCVpF,CEtDC,CAAY,IEcxB,CFd6BkB,CAAL,EFsDlB,CEtD2B,CAArB,CFsDY,CEtDY,IFsDPjB,CEtDYkB,CAAL,GAAS,CAAjC,CFqDR,EAEE,KAAKnB,UAAL,GAAkB,KAAKD,KAFzB,EAGE,KAAKE,OAHP,EAIE,KAAKA,OAAL,GAAe,CAJjB;AAMD,AC1EI,AG8BPyE,AFdY,GDjBmB,IG+BxB,CAAC,CAAD,CAAP,CAAW7B,IAAX,GAAkB,CFdDT,GEcjB,AFdY,GAAW,GAAX;ADfVL,AG8BFyC,AFdW,EDhBTzC,IAAI,EAAE,IG8BI,CAAC0C,AFjBH,KEiBE,CFdK,CEcGC,GFdC,IEcT,CFdcxD,CEcGhB,AFdR,GEcT,CAAZ,CFdgC,CEgBhC,AFhBqB,IAAgB,KAAKgB,CAAL,KAAW,CAA/B,EAAkC;ADhBzCA,AGkCV,AFjBY,IDjBFA,CAAC,EAAE,EAAL,UCiBSL,MAAL,CAAY,KAAKK,CAAjB,EAAoB,KAAKC,CAAL,GAAS,CAA7B;ADjBKA,AGmCjB,AFjBY,IDlBKA,CAAC,EAAE,YCkBHiB,GAAL,GAAW,GAAX,GFyDClC,KAAK;AACdA,AC5EI,AGoCR,AFjBW,GDrBoB,GD8E3BA,GAAG,CAACC,GE5DS,MF4Db,AEzDa,GFyDG,MAAhB;AACAD,AC5EF2B,AGoCF,AFjBY,EDnBVA,ID4EE3B,CC5EG,ED4EA,AC5EE,CD4EDU,SAAJ,AEzDaC,MAAL,CAAY,KAAKK,CAAL,GAAS,CAArB,EAAwB,KAAKC,CAA7B;AF0DRjB,AC7EOgB,AGsCX,AFlBW,IDpBAA,CAAC,CD6ERhB,CC7EU,CAAL,CD6EF,CAACW,MAAJ,CAAW,KAAKb,UAAhB,EAA4B,KAAKA,UAAjC;AACAE,AC9EaiB,AGuCjB,IHvCiBA,CAAC,CD8EdjB,CC9EgB,ED8Eb,CAACY,MAAJ,CACE,KAAKd,UAAL,GAAkB,KAAKD,KAAL,GAAa,CADjC,EAEE,KAAKC,UAAL,GAAkB,KAAKD,KAAL,GAAa,CAFjC;AAIAG,AClFK,AGwCT,AFnBU,GDxBqB,GDqF3BA,GAAG,CAACY,MAAJ,CAAW,KAAKd,UAAhB,EAA4B,KAAKA,UAAL,GAAkB,KAAKD,KAAnD;AACAG,AClFF4B,AGwCF,EHxCEA,IDkFE5B,EClFI,CDkFD,CAACa,AClFE,SDkFN;AACAb,ACnFQgB,AGyCZ,AFpBQ,IDrBIA,CAAC,CDmFThB,CCnFW,CAAL,CDmFH,CAACc,IAAJ,CE9DS,GAAL;AF+DJd,ACpFciB,AG0ClB,AFpBU,IDtBQA,CAAC,CDoFfjB,CCpFiB,EDoFd,CAACe,MAAJ,AE9DU,KAAKE,CAAL,KAAW,CAAf,EAAkB;AFgExBjB,ACtFM,AG2CV,AFpBY,MF+DRA,GAAG,CAACC,SAAJ,AE/DaU,GF+DG,GE/DR,CAAY,EF+DpB,GE/DyBK,CAAL,GAAS,CAArB,EAAwB,KAAKC,CAAL,GAAS,CAAjC;AFgERjB,AC3F2B,AGgD/B,AFpBY,CD5BL,KD2FHA,GAAG,CAACU,SAAJ,AE/DawB,GAAL,GAAW,GAAX;AFgERlC,AI1CJ,AFrBW,MF+DPA,GAAG,CAACW,GElEE,GFkEN,CAAW,EE/DE,GF+DGb,CE/DC,KAAKmB,CAAL,GF+DjB,EAA4B,AE/DA,CAAX,IF+DgBnB,AE/DA,KAAKmB,CAAL,IF+DjC,CE/D4C,CAA/B,EAAkC;AFgE/CjB,ACtFG,AG4CP,AFrBY,IDvBCgC,EDsFThC,GAAG,CAACY,CCtFY,GAAG,CAAC,CDsFpB,CAAW,EE/DED,CDvBM,EDsFHb,ACtFW,GCuBnB,CAAY,EDvBD,EAAgB,CCuBVkB,CF+Dd,AE/DS,GF+DS,AE/DA,CAArB,CDvBW,CCuBa,CDvBY,CDsFVnB,GE/D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","file":"ludo.e31bb0bc.js","sourceRoot":"..","sourcesContent":["class Board {\r\n  constructor(boardSize) {\r\n    this.size = boardSize;\r\n    this.strokeWidth = 1;\r\n    this.space = this.size / 5;\r\n    this.squareSide = this.space * 2;\r\n    this.rowSide = this.space / 3;\r\n  }\r\n\r\n  draw(ctx) {\r\n    // Background\r\n    ctx.fillStyle = \"#fff\";\r\n    ctx.fillRect(0, 0, this.size, this.size);\r\n\r\n    // Home rows\r\n    this.drawHomeRows(ctx);\r\n\r\n    // Grid\r\n    this.drawGrid(ctx);\r\n\r\n    // Corners\r\n    this.drawHomeCorners(ctx);\r\n\r\n    // Center\r\n    this.drawCenter(ctx);\r\n\r\n    // Home circles\r\n    this.drawHomeCircles(ctx);\r\n  }\r\n\r\n  drawHomeCircles(ctx) {\r\n    this.drawCircles(ctx, this.squareSide / 2, this.squareSide / 2);\r\n    this.drawCircles(\r\n      ctx,\r\n      this.squareSide / 2 + this.space + this.squareSide,\r\n      this.squareSide / 2\r\n    );\r\n    this.drawCircles(\r\n      ctx,\r\n      this.squareSide / 2,\r\n      this.squareSide / 2 + this.space + this.squareSide\r\n    );\r\n    this.drawCircles(\r\n      ctx,\r\n      this.squareSide / 2 + this.space + this.squareSide,\r\n      this.squareSide / 2 + this.space + this.squareSide\r\n    );\r\n  }\r\n\r\n  drawHomeCorners(ctx) {\r\n    this.drawSquare(ctx, 0, 0, \"#0f0\");\r\n    this.drawSquare(ctx, this.squareSide + this.space, 0, \"#ff0\");\r\n    this.drawSquare(\r\n      ctx,\r\n      this.squareSide + this.space,\r\n      this.squareSide + this.space,\r\n      \"#00f\"\r\n    );\r\n    this.drawSquare(ctx, 0, this.squareSide + this.space, \"#f00\");\r\n  }\r\n\r\n  drawHomeRows(ctx) {\r\n    ctx.fillStyle = \"#0f0\";\r\n    ctx.fillRect(this.rowSide, this.squareSide, this.rowSide, this.rowSide * 2);\r\n    ctx.fillRect(\r\n      this.rowSide * 2,\r\n      this.squareSide + this.rowSide,\r\n      this.rowSide * 4,\r\n      this.rowSide\r\n    );\r\n    ctx.fillStyle = \"#ff0\";\r\n    ctx.fillRect(\r\n      this.squareSide + this.rowSide,\r\n      this.rowSide,\r\n      this.rowSide * 2,\r\n      this.rowSide\r\n    );\r\n    ctx.fillRect(\r\n      this.squareSide + this.rowSide,\r\n      this.rowSide * 2,\r\n      this.rowSide,\r\n      this.rowSide * 4\r\n    );\r\n    ctx.fillStyle = \"#00f\";\r\n    ctx.fillRect(\r\n      this.size - this.rowSide * 2,\r\n      this.squareSide + this.rowSide,\r\n      this.rowSide,\r\n      this.rowSide * 2\r\n    );\r\n    ctx.fillRect(\r\n      this.squareSide + this.space,\r\n      this.squareSide + this.rowSide,\r\n      this.rowSide * 4,\r\n      this.rowSide\r\n    );\r\n    ctx.fillStyle = \"#f00\";\r\n    ctx.fillRect(\r\n      this.squareSide,\r\n      this.size - this.rowSide * 2,\r\n      this.rowSide * 2,\r\n      this.rowSide\r\n    );\r\n    ctx.fillRect(\r\n      this.squareSide + this.rowSide,\r\n      this.squareSide + this.space,\r\n      this.rowSide,\r\n      this.rowSide * 4\r\n    );\r\n  }\r\n\r\n  drawCenter(ctx) {\r\n    ctx.fillStyle = \"#0f0\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.squareSide, this.squareSide);\r\n    ctx.lineTo(\r\n      this.squareSide + this.space / 2,\r\n      this.squareSide + this.space / 2\r\n    );\r\n    ctx.lineTo(this.squareSide, this.squareSide + this.space);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = \"#ff0\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.squareSide, this.squareSide);\r\n    ctx.lineTo(this.squareSide + this.space, this.squareSide);\r\n    ctx.lineTo(\r\n      this.squareSide + this.space / 2,\r\n      this.squareSide + this.space / 2\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = \"#00f\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.squareSide + this.space, this.squareSide);\r\n    ctx.lineTo(this.squareSide + this.space, this.squareSide + this.space);\r\n    ctx.lineTo(\r\n      this.squareSide + this.space / 2,\r\n      this.squareSide + this.space / 2\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = \"#f00\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.squareSide, this.squareSide + this.space);\r\n    ctx.lineTo(this.squareSide + this.space, this.squareSide + this.space);\r\n    ctx.lineTo(\r\n      this.squareSide + this.space / 2,\r\n      this.squareSide + this.space / 2\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = \"#000\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.squareSide, this.squareSide);\r\n    ctx.lineTo(this.squareSide + this.space, this.squareSide + this.space);\r\n    ctx.moveTo(this.squareSide + this.space, this.squareSide);\r\n    ctx.lineTo(this.squareSide, this.squareSide + this.space);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n  }\r\n\r\n  drawCircle(ctx, x, y) {\r\n    ctx.fillStyle = \"#fff\";\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, this.rowSide, 0, 2 * Math.PI, false);\r\n    ctx.fill();\r\n    ctx.fillStyle = \"#000\";\r\n    ctx.stroke();\r\n  }\r\n\r\n  drawSquare(ctx, x, y, color) {\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(x, y, this.squareSide, this.squareSide);\r\n  }\r\n\r\n  drawGrid(ctx) {\r\n    ctx.fillStyle = \"#000\";\r\n    ctx.lineWidth = this.strokeWidth;\r\n    ctx.beginPath();\r\n    for (let i = 0; i < this.size + this.rowSide; i += this.rowSide) {\r\n      ctx.moveTo(i, 0);\r\n      ctx.lineTo(i, this.size);\r\n      ctx.moveTo(0, i);\r\n      ctx.lineTo(this.size, i);\r\n    }\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n  }\r\n\r\n  drawCircles(ctx, x, y) {\r\n    ctx.beginPath();\r\n    this.drawCircle(ctx, x - this.squareSide / 4, y - this.squareSide / 4);\r\n    this.drawCircle(ctx, x + this.squareSide / 4, y - this.squareSide / 4);\r\n    this.drawCircle(ctx, x - this.squareSide / 4, y + this.squareSide / 4);\r\n    this.drawCircle(ctx, x + this.squareSide / 4, y + this.squareSide / 4);\r\n  }\r\n}\r\n\r\nexport default Board;\r\n","export const HOME_POSITIONS = {\r\n  RED: [\r\n    { x: 1, y: 10 },\r\n    { x: 1, y: 13 },\r\n    { x: 4, y: 10 },\r\n    { x: 4, y: 13 },\r\n  ],\r\n  GREEN: [\r\n    { x: 1, y: 1 },\r\n    { x: 1, y: 4 },\r\n    { x: 4, y: 1 },\r\n    { x: 4, y: 4 },\r\n  ],\r\n  YELLOW: [\r\n    { x: 10, y: 1 },\r\n    { x: 10, y: 4 },\r\n    { x: 13, y: 1 },\r\n    { x: 13, y: 4 },\r\n  ],\r\n  BLUE: [\r\n    { x: 10, y: 10 },\r\n    { x: 10, y: 13 },\r\n    { x: 13, y: 10 },\r\n    { x: 13, y: 13 },\r\n  ],\r\n};\r\n\r\nexport const TOKEN_COLORS = {\r\n  RED: \"#be0000\",\r\n  GREEN: \"#037d50\",\r\n  BLUE: \"#0000be\",\r\n  YELLOW: \"#ffea00\",\r\n};\r\n\r\nexport const START_POSITIONS = {\r\n  RED: { x: 6, y: 13 },\r\n  BLUE: { x: 13, y: 8 },\r\n  GREEN: { x: 1, y: 6 },\r\n  YELLOW: { x: 8, y: 1 },\r\n};\r\n\r\nexport const PLAYERS = [\"RED\", \"BLUE\", \"GREEN\", \"YELLOW\"];\r\n","import { START_POSITIONS, TOKEN_COLORS } from \"./constants\";\r\n\r\nclass Token {\r\n  constructor(boardSize, x, y, color, dir) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.radius = boardSize / 32;\r\n    this.stepSize = boardSize / 15;\r\n    this.color = color;\r\n    this.centerX = (x + 0.5) * this.stepSize;\r\n    this.centerY = (y + 0.5) * this.stepSize;\r\n    // @ts-ignore\r\n    this.open = false;\r\n    this.dir = dir;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.fillStyle = TOKEN_COLORS[this.color];\r\n    ctx.beginPath();\r\n    ctx.arc(this.centerX, this.centerY, this.radius, 0, 2 * Math.PI, false);\r\n    ctx.fill();\r\n    ctx.fillStyle = \"#000\";\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n  }\r\n\r\n  moveTo(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.centerX = (x + 0.5) * this.stepSize;\r\n    this.centerY = (y + 0.5) * this.stepSize;\r\n  }\r\n\r\n  // Maybe move this function outside. Into Player?\r\n  move(numMoves) {\r\n    while (numMoves) {\r\n      switch (this.dir) {\r\n        case \"r\":\r\n          if (this.x === 14 || this.x === 8) {\r\n            this.moveTo(this.x, this.y + 1);\r\n            this.dir = \"d\";\r\n          } else if (this.x === 5) {\r\n            this.moveTo(this.x + 1, this.y - 1);\r\n            this.dir = \"u\";\r\n          } else {\r\n            this.moveTo(this.x + 1, this.y);\r\n          }\r\n          break;\r\n        case \"l\":\r\n          if (this.x === 9) {\r\n            this.moveTo(this.x - 1, this.y + 1);\r\n            this.dir = \"d\";\r\n          } else if (this.x === 6 || this.x === 0) {\r\n            this.moveTo(this.x, this.y - 1);\r\n            this.dir = \"u\";\r\n          } else {\r\n            this.moveTo(this.x - 1, this.y);\r\n          }\r\n          break;\r\n        case \"u\":\r\n          if (this.y === 9) {\r\n            this.moveTo(this.x - 1, this.y - 1);\r\n            this.dir = \"l\";\r\n          } else if (this.y === 6 || this.y === 0) {\r\n            this.moveTo(this.x + 1, this.y);\r\n            this.dir = \"r\";\r\n          } else {\r\n            this.moveTo(this.x, this.y - 1);\r\n          }\r\n          break;\r\n        case \"d\":\r\n          if (this.y === 5) {\r\n            this.moveTo(this.x + 1, this.y + 1);\r\n            this.dir = \"r\";\r\n          } else if (this.y === 8 || this.y === 14) {\r\n            this.moveTo(this.x - 1, this.y);\r\n            this.dir = \"l\";\r\n          } else {\r\n            this.moveTo(this.x, this.y + 1);\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      numMoves--;\r\n    }\r\n  }\r\n\r\n  openToken() {\r\n    this.open = true;\r\n    this.moveTo(START_POSITIONS[this.color].x, START_POSITIONS[this.color].y);\r\n  }\r\n}\r\n\r\nexport default Token;\r\n","import Token from \"./token\";\r\nimport { HOME_POSITIONS } from \"./constants\";\r\n\r\nfunction getDirection(color) {\r\n  switch (color) {\r\n    case \"RED\":\r\n      return \"u\";\r\n    case \"BLUE\":\r\n      return \"l\";\r\n    case \"GREEN\":\r\n      return \"r\";\r\n    case \"YELLOW\":\r\n      return \"d\";\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nclass Player {\r\n  constructor(boardSize, color) {\r\n    this.turn = false;\r\n    this.tokens = HOME_POSITIONS[color].map(\r\n      (position) =>\r\n        new Token(boardSize, position.x, position.y, color, getDirection(color))\r\n    );\r\n  }\r\n}\r\n\r\nexport default Player;\r\n","// @ts-nocheck\r\nimport Board from \"./board\";\r\nimport Token from \"./token\";\r\nimport Player from \"./player\";\r\nimport { PLAYERS } from \"./constants\";\r\n\r\nconst BOARD_SIZE = 600;\r\n\r\nconst canvas = document.getElementById(\"gameScreen\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nfunction clearBoard() {\r\n  ctx.clearRect(0, 0, BOARD_SIZE, BOARD_SIZE);\r\n}\r\n\r\nfunction getMousePos(canvas, evt) {\r\n  const rect = canvas.getBoundingClientRect();\r\n  return {\r\n    x: ((evt.clientX - rect.left) / (rect.right - rect.left)) * canvas.width,\r\n    y: ((evt.clientY - rect.top) / (rect.bottom - rect.top)) * canvas.height,\r\n  };\r\n}\r\n\r\nfunction isIntersecting(point, token) {\r\n  return (\r\n    Math.sqrt((point.x - token.centerX) ** 2 + (point.y - token.centerY) ** 2) <\r\n    token.radius\r\n  );\r\n}\r\n\r\nfunction refreshBoard(board, players, ctx) {\r\n  clearBoard();\r\n  board.draw(ctx);\r\n  players.forEach((player) =>\r\n    player.tokens.forEach((token) => token.draw(ctx))\r\n  );\r\n}\r\n\r\nfunction callback(e) {\r\n  const mousePosition = getMousePos(canvas, e);\r\n  players.forEach((player) => {\r\n    player.tokens.forEach((token) => {\r\n      if (token.open && player.turn && isIntersecting(mousePosition, token)) {\r\n        token.move(5);\r\n        refreshBoard(board, players, ctx);\r\n        // requestAnimationFrame(callback);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nconst board = new Board(BOARD_SIZE);\r\nconst players = PLAYERS.map(\r\n  (playerColor) => new Player(BOARD_SIZE, playerColor)\r\n);\r\ncanvas.width = BOARD_SIZE;\r\ncanvas.height = BOARD_SIZE;\r\n\r\nboard.draw(ctx);\r\nplayers.forEach((player) => player.tokens.forEach((token) => token.draw(ctx)));\r\n\r\ncanvas.addEventListener(\"click\", callback);\r\n\r\nplayers[0].tokens[0].openToken();\r\nplayers[1].tokens[0].openToken();\r\nplayers[1].turn = true;\r\nrefreshBoard(board, players, ctx);\r\n\r\n// const starttime = 0;\r\n\r\n// function game(timestamp, duration) {\r\n//   const ts = timestamp || new Date().getTime();\r\n//   const runtime = ts - starttime;\r\n//   const progress = Math.min(runtime / duration, 1);\r\n\r\n//   clearBoard();\r\n//   board.draw(ctx);\r\n//   players[0].tokens[0].move(1);\r\n//   players[0].tokens[0].draw(ctx);\r\n//   if (runtime < duration) {\r\n//     requestAnimationFrame((timestamp) => game(timestamp, duration));\r\n//   }\r\n// }\r\n\r\n// requestAnimationFrame((timestamp) => {\r\n//   // const starttime = starttime || new Date().getTime();\r\n//   game(null, 2000);\r\n// });\r\n"]}